# ğŸ› ï¸ å·¥å…·ä½¿ç”¨è¨­è¨ˆæ¨¡å¼ï¼ˆTool Use Design Patternï¼‰ç°¡å–®æ˜“æ˜ç‰ˆ

---

## ğŸ“Œ **å’©ä¿‚å·¥å…·ä½¿ç”¨è¨­è¨ˆæ¨¡å¼ï¼Ÿ**

**å·¥å…·ä½¿ç”¨è¨­è¨ˆæ¨¡å¼ï¼ˆTool Use Design Patternï¼‰** ä¿‚ä¸€ç¨®ä»¤æ™ºèƒ½ä»£ç†é€éå¤–éƒ¨å·¥å…·ï¼ˆå¦‚å‡½å¼æˆ–APIï¼‰å»å®Œæˆç‰¹å®šä»»å‹™å˜…æ–¹æ³•ï¼Œå¤§å¹…æå‡æ™ºèƒ½ä»£ç†å˜…èƒ½åŠ›ã€‚

ä¾‹å¦‚ï¼š
- ğŸ§® ä½¿ç”¨è¨ˆç®—å·¥å…·é€²è¡Œè¨ˆç®—
- ğŸ“Š é€éAPIç²å–å³æ™‚è³‡è¨Š

---

## ğŸ¯ **å·¥å…·ä½¿ç”¨è¨­è¨ˆæ¨¡å¼å˜…é‡è¦æ€§**

| å„ªé» | è§£é‡‹ | å¯¦éš›ä¾‹å­ |
|---|---|---|
| ğŸ“¡ **å‹•æ…‹è³‡è¨Šç²å–** | å³æ™‚å¾å¤–éƒ¨ç²å–è³‡æ–™ | æŸ¥è©¢è‚¡ç¥¨åƒ¹æ ¼ã€å¤©æ°£é å ± |
| ğŸ’» **ç¨‹å¼ç¢¼åŸ·è¡Œèˆ‡åˆ†æ** | è‡ªå‹•åŸ·è¡Œç¨‹å¼ç¢¼åˆ†ææ•¸æ“š | è§£æ•¸å­¸é¡Œç›®ã€æ•¸æ“šåˆ†æ |
| âš™ï¸ **å·¥ä½œæµç¨‹è‡ªå‹•åŒ–** | è‡ªå‹•åŸ·è¡Œé‡è¤‡å˜…å·¥ä½œæµç¨‹ | è‡ªå‹•ç™¼é€é›»éƒµã€ä»»å‹™èª¿åº¦ |
| ğŸ™‹ **å®¢æˆ¶æ”¯æ´** | èˆ‡CRMåŠçŸ¥è­˜åº«äº’å‹• | è‡ªå‹•è™•ç†å®¢æˆ¶å•é¡Œ |
| ğŸ“ **å…§å®¹å‰µä½œåŒç·¨è¼¯** | è¼”åŠ©ç”ŸæˆåŒä¿®æ”¹å…§å®¹ | æ–‡æ³•æª¢æŸ¥ã€æ‘˜è¦ç”Ÿæˆ |

---

## ğŸ“Œ **å·¥å…·ä½¿ç”¨è¨­è¨ˆæ¨¡å¼å˜…é‹ä½œæµç¨‹**

æ™ºèƒ½ä»£ç†é€éä»¥ä¸‹æ­¥é©Ÿä½¿ç”¨å·¥å…·ï¼š

1. ç”¨æˆ¶æå‡ºå•é¡Œã€‚
2. æ™ºèƒ½ä»£ç†åˆ†æï¼Œé¸æ“‡é©åˆå·¥å…·ã€‚
3. åŸ·è¡Œæ‰€é¸å·¥å…·ç²å–çµæœã€‚
4. è©•ä¼°çµæœä¸¦ç”Ÿæˆæœ€çµ‚ç­”æ¡ˆã€‚

### ğŸ“Œ **å·¥å…·ä½¿ç”¨è¨­è¨ˆæ¨¡å¼æµç¨‹åœ–ï¼š**
```mermaid
graph TD;
UserRequest[ğŸ—£ï¸ ç”¨æˆ¶æå‡ºè¦æ±‚] --> LLM[ğŸ¤– AIæ™ºèƒ½ä»£ç†åˆ†æè¦æ±‚];
LLM --> ChooseTool[ğŸ”§ AIé¸æ“‡æœ€åˆé©å·¥å…·];
ChooseTool --> ExecuteTool[âš™ï¸ åŸ·è¡Œå·¥å…·ç²å–è³‡è¨Š];
ExecuteTool --> Evaluate[ğŸ“Š è©•ä¼°å·¥å…·å–å¾—å˜…è³‡è¨Š];
Evaluate --> FinalAnswer[âœ… å›è¦†ç”¨æˆ¶çµæœ];
```

---

## ğŸ› ï¸ **å·¥å…·ä½¿ç”¨è¨­è¨ˆæ¨¡å¼å˜…æ ¸å¿ƒçµ„ä»¶**

| çµ„ä»¶ | è§£é‡‹ | ä¾‹å­ |
|-----------|-------------|---------|
| ğŸ“ **åŠŸèƒ½æˆ–å·¥å…·èª¿ç”¨** | æ™ºèƒ½ä»£ç†è­˜åˆ¥åŒä½¿ç”¨åˆé©å˜…å·¥å…· | å‘¼å«APIç²å–åŸå¸‚æ™‚é–“ |
| ğŸ“¥ **å‹•æ…‹è³‡æ–™ç²å–** | å³æ™‚å­˜å–æœ€æ–°è³‡è¨Š | è‚¡ç¥¨å ±åƒ¹ã€å¤©æ°£è³‡è¨Š |
| ğŸ–¥ï¸ **ç¨‹å¼ç¢¼åŸ·è¡Œ** | è‡ªå‹•åŸ·è¡Œä»£ç¢¼è§£æ±ºå•é¡Œ | åŸ·è¡Œæ•¸æ“šåˆ†æè…³æœ¬ |
| ğŸ”„ **è‡ªå‹•åŒ–å·¥ä½œæµç¨‹** | æ•´åˆä¸åŒå·¥å…·å®Œæˆè¤‡é›œä»»å‹™ | è‡ªå‹•åŒ–è¨‚å–®è™•ç†ç³»çµ± |

---

## âš™ï¸ **é»æ¨£å¯¦ç¾å·¥å…·èª¿ç”¨åŠŸèƒ½ï¼Ÿ**

åŠŸèƒ½èª¿ç”¨ä¿‚é€éä»¥ä¸‹æµç¨‹é€²è¡Œï¼š

- ç”¨æˆ¶æä¾›éœ€æ±‚ï¼ˆä¾‹å¦‚ï¼šã€ŒæŸ¥ä¸‹è€Œå®¶ä¸‰è—©å¸‚å¹¾é»ï¼Ÿã€ï¼‰
- æ™ºèƒ½ä»£ç†é¸æ“‡æœ€åˆé©å˜…å·¥å…·ã€‚
- å·¥å…·åŸ·è¡Œå¾Œï¼Œå°‡çµæœè¿”å›æ™ºèƒ½ä»£ç†ã€‚
- æ™ºèƒ½ä»£ç†å†æ•´åˆè³‡è¨Šï¼Œç”Ÿæˆç­”æ¡ˆä¿¾ç”¨æˆ¶ã€‚

### ğŸ“Œ **åŠŸèƒ½èª¿ç”¨è¦–è¦ºåŒ–ç¤ºä¾‹ï¼š**
```mermaid
graph LR;
UserRequest[ğŸ—£ï¸ ç”¨æˆ¶è«‹æ±‚] --> AgentAnalysis[ğŸ¤– æ™ºèƒ½ä»£ç†åˆ†æ];
AgentAnalysis --> SelectTool[ğŸ” é¸æ“‡æœ€åˆé©å·¥å…·];
SelectTool --> ToolExecution[âš™ï¸ å·¥å…·åŸ·è¡Œä»»å‹™];
ToolExecution --> ReturnResult[ğŸ“¥ å·¥å…·è¿”å›è³‡è¨Š];
ReturnResults --> AgentResponse[âœ… æä¾›æœ€çµ‚ç­”æ¡ˆ];
```

---

## ğŸš§ **ä½¿ç”¨å·¥å…·è¨­è¨ˆæ¨¡å¼å˜…å®‰å…¨è€ƒæ…®**

ä½¿ç”¨å¤–éƒ¨å·¥å…·æ™‚éœ€æ³¨æ„å˜…å®‰å…¨æªæ–½ï¼š

| å®‰å…¨è€ƒæ…® | è§£é‡‹ | å»ºè­° |
|---------------|-------------|----------------|
| ğŸš« **é˜²æ­¢SQLæ³¨å…¥æ”»æ“Š** | é˜²æ­¢æ•¸æ“šåº«é­æƒ¡æ„æ“ä½œ | é™åˆ¶æ•¸æ“šåº«æ¬Šé™ï¼ˆåªè®€ï¼‰ |
| ğŸ”’ **å®‰å…¨ç’°å¢ƒé‹ä½œ** | å·¥å…·éœ€åœ¨å®‰å…¨ç’°å¢ƒå…§é‹è¡Œ | ä½¿ç”¨å—æ§ç’°å¢ƒ |
| ğŸ” **æ•æ„Ÿæ•¸æ“šä¿è­·** | é™åˆ¶ä»£ç†å­˜å–æ•æ„Ÿæ•¸æ“š | å®šæœŸå¯©æ ¸è¨ªå•æ¬Šé™ |

### ğŸ“Œ **å®‰å…¨å¯¦æ–½è¦–è¦ºç¤ºä¾‹ï¼š**
```mermaid
graph TD;
AIQuery[ğŸ¤– AIç”¢ç”ŸSQLæŸ¥è©¢] --> SecurityCheck[ğŸ”’ å®‰å…¨æª¢æŸ¥];
SecurityCheck --> ReadOnlyDB[ğŸ“— å”¯è®€æ•¸æ“šåº«å­˜å–];
ReadOnlyDB --> DataReturned[ğŸ“¥ å®‰å…¨è³‡æ–™è¿”å›];
DataReturned --> UserOutput[âœ… å®‰å…¨å›è¦†ç”¨æˆ¶];
```

---

## â˜ï¸ **é€éæ¡†æ¶å¯¦ç¾å·¥å…·ä½¿ç”¨**

é€éä»¥ä¸‹æ¡†æ¶èƒ½æ›´å®¹æ˜“å¯¦ç¾å·¥å…·ä½¿ç”¨ï¼š

| æ¡†æ¶åç¨± | å„ªé» | é©ç”¨å ´æ™¯ |
|-----------|------------|---------|
| ğŸ§© **Semantic Kernel** | æ˜“æ–¼è¨­å®šï¼Œè‡ªå¸¶å¸¸ç”¨å·¥å…· | æ–‡ä»¶è‡ªå‹•æ‘˜è¦ |
| â˜ï¸ **Azure AI Agent Service** | å®‰å…¨ã€ç®¡ç†ç°¡å–® | ä¼æ¥­ç´šç³»çµ±æ•´åˆ |

### ğŸ“Œ **æ¡†æ¶é‹ä½œæµç¨‹åœ–ç¤ºä¾‹ï¼ˆSemantic Kernelï¼‰:**
```mermaid
graph LR;
Developer[ğŸ§‘â€ğŸ’» é–‹ç™¼äººå“¡] --> PluginSetup[ğŸ› ï¸ æ’ä»¶è¨­å®š];
PluginSetup --> SemanticKernel[ğŸ§© Semantic Kernelæ¡†æ¶];
SemanticKernel --> Serialization[ğŸ“‹ å·¥å…·è‡ªå‹•åºåˆ—åŒ–];
Serialization --> ToolUsage[âš™ï¸ AIä»£ç†ä½¿ç”¨å·¥å…·];
ToolUsage --> Output[âœ… æä¾›æœ€çµ‚çµæœ];
```

---

## ğŸ“š **ç¸½çµåŒé‡é»**

- å·¥å…·ä½¿ç”¨è¨­è¨ˆæ¨¡å¼å…è¨±æ™ºèƒ½ä»£ç†æ“´å±•åŠŸèƒ½ï¼Œéˆæ´»è§£æ±ºå•é¡Œã€‚
- è‡ªå‹•åŸ·è¡Œå·¥å…·å¢åŠ ä»£ç†è™•ç†è¤‡é›œä»»å‹™èƒ½åŠ›ã€‚
- é€éå®‰å…¨æªæ–½ç¢ºä¿å·¥å…·ä½¿ç”¨å®‰å…¨å¯é ã€‚
- ä½¿ç”¨æˆç†Ÿå˜…AIæ¡†æ¶ç°¡åŒ–å·¥å…·å˜…æ•´åˆåŒç®¡ç†ã€‚

---

## ğŸŒŸ **æ›´å¤šåƒè€ƒè³‡æº**

- [Azure AI Service å¯¦æˆ°æ•™ç¨‹](https://learn.microsoft.com/training/modules/use-own-data-azure-openai)
- [Semantic Kernel å®˜æ–¹æ•™å­¸](https://learn.microsoft.com/semantic-kernel/concepts/ai-services/chat-completion/function-calling/?pivots=programming-language-python)
- [Autogen å·¥å…·æŒ‡å—](https://microsoft.github.io/autogen/dev/user-guide/core-user-guide/components/tools.html)