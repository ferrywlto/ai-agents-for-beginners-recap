# ğŸ“… æ™ºèƒ½ä»£ç†è¦åŠƒè¨­è¨ˆæ¨¡å¼ï¼ˆç°¡å–®æ˜“æ˜ç‰ˆï¼‰

---

## ğŸ“Œ **å’©ä¿‚æ™ºèƒ½ä»£ç†å˜…è¦åŠƒï¼ˆPlanningï¼‰ï¼Ÿ**

æ™ºèƒ½ä»£ç†å˜…è¦åŠƒä¿‚æŒ‡æ¸…æ™°å®šç¾©ç›®æ¨™ï¼Œå°‡è¤‡é›œå˜…ä»»å‹™æ‹†åˆ†æˆç´°ä»»å‹™ï¼Œé€æ­¥åŸ·è¡Œã€‚

**ä¾‹å¦‚ç›®æ¨™ï¼š**ã€Œå®‰æ’ä¸€å€‹ä¸‰æ—¥å…©å¤œæ—…è¡Œè¡Œç¨‹ã€

æ¸…æ™°å˜…è¦åŠƒä»¤æ™ºèƒ½ä»£ç†èƒ½å¤ æº–ç¢ºæä¾›æ©Ÿç¥¨ã€é…’åº—åŒæ´»å‹•å»ºè­°ç­‰å®‰æ’ã€‚

---

## ğŸ¯ **æ™ºèƒ½ä»£ç†è¦åŠƒå˜…é‡è¦æ€§ï¼š**

| å„ªé» | è§£é‡‹ | ä¾‹å­ |
|---|---|---|
| ğŸ¯ **ç›®æ¨™æ¸…æ™°** | æ˜ç¢ºçŸ¥é“åšä¹œå˜¢ï¼Œçµæœæ›´æº–ç¢º | ã€Œé è¨‚å¢¨çˆ¾æœ¬å˜…é…’åº—åŒæ©Ÿç¥¨ã€ |
| ğŸ§© **ä»»å‹™æ‹†è§£** | å°‡è¤‡é›œä»»å‹™è®Šæˆæ˜“ç®¡ç†å˜…ç´°ä»»å‹™ | ä¸€å€‹ä»£ç†è² è²¬æ©Ÿç¥¨ï¼Œä¸€å€‹è² è²¬é…’åº— |
| ğŸ› ï¸ **å·¥å…·æ•´åˆ** | é©æ™‚ä½¿ç”¨æ­£ç¢ºå·¥å…· | æœå°‹å·¥å…·ã€é è¨‚ç³»çµ±ã€æ•¸æ“šåˆ†æ |
| ğŸ”„ **åè¦†æ”¹å–„** | æ ¹æ“šåé¥‹èª¿æ•´ä»»å‹™ | ç”¨æˆ¶åå¥½æ›´æ—©å˜…èˆªç­ï¼Œå°±å³æ™‚èª¿æ•´è¡Œç¨‹ |

---

## ğŸ§© **ä»»å‹™æ‹†è§£ï¼ˆSubtaskingï¼‰**

å°‡å¤§ä»»å‹™æ‹†åˆ†æˆæ˜“ç†è§£å˜…ç´°ä»»å‹™ï¼š

| ä¸»ä»»å‹™ | ç´°ä»»å‹™ | å°ˆæ¥­æ™ºèƒ½ä»£ç† |
|-----------|-----------|-----------------------|
| ğŸŒ **æ—…è¡Œè¦åŠƒ** | âœˆï¸ æ©Ÿç¥¨é è¨‚ | æ©Ÿç¥¨ä»£ç† |
| ğŸ¨ **ä½å®¿å®‰æ’** | é…’åº—ä»£ç† |
| ğŸš— **äº¤é€šå·¥å…·** | ç§Ÿè»Šä»£ç† |
| ğŸ¡ **æ´»å‹•å®‰æ’** | æ´»å‹•æ¨è–¦ä»£ç† |

### ğŸ“Œ **ä»»å‹™æ‹†è§£è¦–è¦ºç¤ºä¾‹ï¼š**

```mermaid
graph TD;
MainGoal[å®‰æ’å®¶åº­æ—…è¡Œ]-->Flights[âœˆï¸ é è¨‚æ©Ÿç¥¨];
MainGoal-->Hotels[ğŸ¨ é è¨‚é…’åº—];
MainGoal-->Car[ğŸš— ç§Ÿè»Šå®‰æ’];
MainGoal-->Activities[ğŸ¡ æ´»å‹•å»ºè­°];
MainGoal-->Info[ğŸ“š æä¾›ç›®çš„åœ°è³‡è¨Š];
```

---

## ğŸ“‘ **çµæ§‹åŒ–è¼¸å‡ºï¼ˆStructured Outputï¼‰**

ä½¿ç”¨çµæ§‹åŒ–è¼¸å‡ºï¼ˆå¦‚JSONï¼‰ï¼Œæ™ºèƒ½ä»£ç†ä¹‹é–“æ›´å®¹æ˜“æºé€šåŒå”èª¿ä»»å‹™ã€‚

### ğŸ“Œ **çµæ§‹åŒ–è¼¸å‡ºç¤ºä¾‹ï¼š**
```json
{
  "main_task": "å®‰æ’ç”±æ–°åŠ å¡åˆ°å¢¨çˆ¾æœ¬å˜…å®¶åº­æ—…è¡Œã€‚",
  "subtasks": [
    {"assigned_agent": "flight_booking", "task_details": "é è¨‚æ©Ÿç¥¨"},
    {"assigned_agent": "hotel_booking", "task_details": "é©åˆå®¶åº­å˜…é…’åº—"},
    {"assigned_agent": "car_rental", "task_details": "ç§Ÿé©åˆ4äººå˜…è»Š"},
    {"assigned_agent": "activities_booking", "task_details": "å®¶åº­æ´»å‹•æ¨è–¦"},
    {"assigned_agent": "destination_info", "task_details": "å¢¨çˆ¾æœ¬æ—…éŠè³‡è¨Š"}
  ]
}
```

### ğŸ“Œ **çµæ§‹åŒ–è¼¸å‡ºä½¿ç”¨è¦–è¦ºç¤ºä¾‹ï¼š**

```mermaid
graph LR;
User[ğŸ§‘ ç”¨æˆ¶è«‹æ±‚] --> Planner[ğŸ—‚ï¸ è¦åŠƒä»£ç†];
Planner --> FlightAgent[âœˆï¸ æ©Ÿç¥¨ä»£ç†];
Planner --> HotelAgent[ğŸ¨ é…’åº—ä»£ç†];
Planner --> CarAgent[ğŸš— ç§Ÿè»Šä»£ç†];
Planner --> ActivityAgent[ğŸ¡ æ´»å‹•ä»£ç†];
Planner --> InfoAgent[ğŸ“š ç›®çš„åœ°è³‡è¨Šä»£ç†];
FlightAgent --> Results[âœ… çµæœ];
HotelAgent --> Results;
CarAgent --> Results;
ActivityAgent --> Results;
InfoAgent --> Results;
Results --> UserFeedback[ğŸ—£ï¸ ç”¨æˆ¶åé¥‹];
UserFeedback --> Planner;
```

---

## ğŸš¨ **äº‹ä»¶é©…å‹•åŠåè¦†è¦åŠƒï¼ˆEvent-driven & Iterative Planningï¼‰**

æ™ºèƒ½ä»£ç†å¿…é ˆå¿«é€Ÿé©æ‡‰å‹•æ…‹æƒ…æ³ï¼Œå‘¢å€‹å°±ä¿‚ã€Œåè¦†è¦åŠƒã€ï¼Œæ¯å€‹æ±ºå®šæœƒå½±éŸ¿ä¸‹ä¸€æ­¥è¡Œå‹•ã€‚

| æƒ…å¢ƒ | è¡Œå‹• |
|---|---|
| âš ï¸ **æ„å¤–æ•¸æ“šæ ¼å¼** | é è¨‚éç¨‹å‡ºéŒ¯å¾Œå³æ™‚èª¿æ•´ç­–ç•¥ |
| ğŸ”„ **ç”¨æˆ¶åé¥‹** | ç”¨æˆ¶æƒ³ææ—©èˆªç­ï¼Œæ™ºèƒ½ä»£ç†å³åˆ»é‡æ–°è¦åŠƒ |

### ğŸ“Œ **åè¦†è¦åŠƒæµç¨‹ï¼š**
```mermaid
graph TD;
InitialPlan[ğŸ“‹ åˆå§‹è¨ˆåŠƒ] --> ExecuteTask[ğŸ› ï¸ åŸ·è¡Œç´°ä»»å‹™];
ExecuteTask --> CheckResults[ğŸ“Š è©•ä¼°çµæœ];
CheckResults --> Feedback[ğŸ—£ï¸ ç”¨æˆ¶åé¥‹ï¼éŒ¯èª¤è¨Šæ¯];
Feedback --> Replan[ğŸ”„ èª¿æ•´å†è¦åŠƒ];
Replan --> ExecuteTask;
CheckResults --> FinalOutput[ğŸ‰ å®Œæˆè¦åŠƒäº¤ä»˜ç”¨æˆ¶];
```

---

## ğŸ› ï¸ **æ™ºèƒ½ä»£ç†ä»»å‹™å”èª¿ï¼ˆAgent Orchestrationï¼‰**

å”èª¿è€…ï¼ˆè¦åŠƒä»£ç†ï¼‰åˆ†é…ä»»å‹™äºˆä¸åŒå°ˆæ¥­ä»£ç†ï¼š

- **èªæ„è·¯ç”±**ï¼šè­˜åˆ¥åˆé©ä»£ç†ã€‚
- **ä»»å‹™å§”æ´¾**ï¼šåˆ†æ´¾ç´°ä»»å‹™ç•€å°ˆæ¥­ä»£ç†ã€‚
- **çµæœæ•´åˆ**ï¼šæ¸…æ™°å’å‘ˆç¾çµæœç•€ç”¨æˆ¶ã€‚

### ğŸ“Œ **æ™ºèƒ½ä»£ç†ä»»å‹™å”èª¿æµç¨‹ï¼š**

```mermaid
graph LR;
UserRequest[ğŸ§‘ ç”¨æˆ¶è¦æ±‚] --> SemanticRouter[ğŸ¯ èªæ„è·¯ç”±ä»£ç†];
SemanticRouter --> Planner[ğŸ—‚ï¸ è¦åŠƒä»£ç†];
Planner --> SpecializedAgents[ğŸ”§ å°ˆæ¥­ä»£ç†];
SpecializedAgents --> CompilationAgent[ğŸ“Œ çµæœæ•´åˆä»£ç†];
CompilationAgent --> User[ğŸ§‘ æäº¤æœ€çµ‚çµæœ];
```

---

## ğŸ“š **é‡é»å›é¡§**

- æ¸…æ™°å˜…ç›®æ¨™ä»¤è¤‡é›œä»»å‹™æ›´æ˜“è™•ç†ã€‚
- çµæ§‹åŒ–è¼¸å‡ºå¹«åŠ©ä»£ç†é–“æ›´å¥½å˜…è‡ªå‹•å”èª¿ã€‚
- åè¦†è¦åŠƒæ ¹æ“šå¯¦éš›æƒ…æ³åŠæ™‚èª¿æ•´ã€‚
- å°ˆæ¥­ä»£ç†åˆ†å·¥åˆä½œï¼Œè¦åŠƒä»£ç†è² è²¬å”èª¿æ•´å€‹æµç¨‹ã€‚

---

## ğŸŒŸ **å»¶ä¼¸è³‡æº**

- [AutoGen çµæ§‹åŒ–è¼¸å‡º](https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/cookbook/structured-output-agent.html)
- [Magnetic One - å¤šæ™ºèƒ½ä»£ç†ç³»çµ±](https://www.microsoft.com/research/articles/magentic-one-a-generalist-multi-agent-system-for-solving-complex-tasks)